# 要件定義書 - 非エンジニア向け専門知識共有プラットフォーム

## 1. プロジェクト概要
ユーザーが自由に情報を発信するプラットフォームを目指しつつ、他者の意見に補足を入れる機能を盛り込み、共有される情報により正確性を持たせるようなプラットフォームを構築する。

---

## 2. 背景
近年、SNSなどで自分の意見を発信する場が増えたが、事実と異なる情報や匿名性を利用した誹謗中傷などが社会問題となってきている。そこで、発信した情報に補足ができる機能を含んだプラットフォームを構築することで、上記問題を解決することを望んでいる。

---

## 3. 目標
- ユーザーが投稿したレポートを簡単に閲覧・共有できる仕組みを提供する。
- 他者が作成したレポートにレポート補足を入れることができる。
- レポートやレポート補足に責任を持たせるための仕組みを本システムに入れ込む。

---

## 4. 機能要件
機能一覧.xlsxを参照

---

## 5. 非機能要件
下記を仮決めとする。
### 5.1 パフォーマンス
- 3秒以内にページを表示。
- サーバーの同時リクエスト処理数を1000件以上に対応できる。

### 5.2 セキュリティ
- HTTPS通信のサポート。
- パスワードはハッシュ化して保存（bcrypt推奨）。
- 認証にJWTを使用し、セッションの安全性を確保。

### 5.3 拡張性
- アプリケーションのアーキテクチャは、**マイクロサービス**として構築できるよう設計。
- **バックエンドとフロントエンドの分離**によるスケーラビリティ向上。
- 機能追加やモジュールの増加に対応できる柔軟なシステム設計を採用。

### 5.4 可用性
- 99.9%以上の稼働率を目指す。
- AWSを利用し、スケーラブルなシステムを構築。

### 5.5 環境構築・運用の柔軟性
- Dockerを使用して、開発・運用環境の構築を容易にし、環境依存の問題を解消。
- **コンテナ化**によって、スケーラブルかつ一貫性のある環境を提供。
- Docker Composeを使用して、複数のサービス（フロントエンド、バックエンド、データベース）の一括管理を実現。
- **GitHubとAWS CodePipelineを使用したCI/CDパイプラインの構築**：
  - GitHubにコードがプッシュされると、自動的にAWS CodePipelineを介してビルド、テスト、デプロイが行われる。
  - AWS CodePipelineは、各ステージ（ビルド、テスト、デプロイ）を可視化し、デプロイプロセスの効率を高める。
  
### 5.6 コード品質管理
- GitHub Actionsを利用し、コードの品質管理を自動化。
  - プルリクエスト時に自動的にテスト、静的解析、リンティングを実行。
  - コードカバレッジの計測や、複数の開発環境（Node.js、Python、Djangoなど）でのビルド確認を行う。
  - エラーや不具合を早期に発見し、コード品質を担保する。
---

## 6. システム構成

### 6.1 フロントエンド
- Reactを使用し、シングルページアプリケーション(SPA)として構築。
- ユーザーインターフェース(UI)の設計には、Material-UIやBootstrapを利用。

### 6.2 バックエンド
- Django（Django REST Framework）を利用し、REST APIベースの設計。
- APIで認証機能、記事管理機能、コメント機能などを提供。

### 6.3 データベース
- PostgreSQLを採用し、ユーザー、記事、タグ、コメントなどのデータを管理。

### 6.4 インフラ
- Dockerを利用して、各サービス（フロントエンド、バックエンド、データベース）をコンテナ化。
- AWS ECS上ににデプロイ。

### 6.5 CI/CDとコード管理
- **GitHub**を使用してソースコードをバージョン管理。
- **AWS CodePipeline**と連携し、自動的にビルド、テスト、デプロイを実施するCI/CDパイプラインを構築。
- **GitHub Actions**を使用し、プッシュやプルリクエスト時にコードの品質を自動的にチェック。テスト、静的解析、コードスタイルチェックを含む。
---

## 7. テスト

### 7.1 ユニットテスト
- 各モジュールに対してユニットテストを実施。
- PyTestなどを利用して、バックエンドのテストを自動化。

### 7.2 統合テスト
- フロントエンドとバックエンドの連携をテスト。
- Seleniumを使ったブラウザ自動テスト。

---

## 8. スケジュール

未定

---

## 9. リスク管理
- サーバーダウン時の対策として、スケールアウト可能なインフラを構築。
- データベース障害に備えて、定期的なバックアップとフェイルオーバー対応。

---
## 9. 将来的な展望
- グループの上位に運営者という枠組みを設ける。
- 運営者単位で独自ドメインとなるようにする。
- 運営者が管理するユーザーやレポートは外部公開を任意に選択できる。
